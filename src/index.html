<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>moddBlockly</title>
</head>
<body>
  <div id="myPopup" class="popup">
    <div class="popup-content">
        <h1 style="color: black">Settings:</h1>
        <p>No settings yet.</p>
        <button id="closePopup">Close</button>
    </div>
  </div>
  <div id="topBar">
    <span class="title"><a href="https://github.com/bruh-9000/moddBlockly" target="_blank" style="color: white;">moddBlockly v0.1.0</a></span>
    <div class="dropdown">
      <button class="dropbtn">File</button>
      <div class="dropdown-content">
        <button id="loadButton" class="dropdown-btn">Open file</button>
        <button id="saveButton" class="dropdown-btn">Save</button>
        <button id="moddScriptButton" class="dropdown-btn">Download output</button>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Edit</button>
      <div class="dropdown-content">
        <button id="undoButton" class="dropdown-btn">Undo</button>
        <button id="redoButton" class="dropdown-btn">Redo</button>
        <button id="cleanWorkspace" class="dropdown-btn">Clean up workspace</button>
        <button id="clearWorkspace" class="dropdown-btn">Clear workspace</button>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Examples</button>
      <div class="dropdown-content">
        <button id="playerJoinsGame" class="dropdown-btn">Player joins game</button>
        <button id="playerLeavesGame" class="dropdown-btn">Player leaves game</button>
        <button id="slashCommand" class="dropdown-btn">/ command</button>
      </div>
    </div>
    <span id='settings' class="settingsButton"><button class="gear-btn">⚙️</button></span>
  </div>  
  <div id="pageContainer">
    <div id="outputPane">
      <pre id="generatedCode"><code></code></pre>
      <div id="output"></div>
      <button onclick="copyToClipboard()" id="copyText">Copy Text</button>
      <a href="https://moddio.github.io/script-editor/iframe.html?id=textscripteditormultiline--editor&viewMode=story" target="_blank">
        <button id="MLSE">MLSE</button>
      </a>    
      <script>
        function copyToClipboard() {
          const text = document.getElementById('generatedCode').innerHTML
            .replace(/<code>/g, "")
            .replace(/<\/code>/g, "")
            .replace(/<br>/g, "\n")
            .trim();

          navigator.clipboard.writeText(text)
        }
      </script>
    </div>
    <div id="blocklyDiv"></div>
    <div style="position: absolute; bottom: 10px; left: 10px;">
      <p style="margin: 0;">Created by <a href="https://www.modd.io/user/bruh9000/" target="_blank" style="color: black; text-decoration: underline;">bruh9000</a> and all <a href="https://github.com/bruh-9000/moddBlockly/graphs/contributors" target="_blank" style="color: black; text-decoration: underline;">contributors</a></p>
    </div>
  </div>
</body>
</html>
